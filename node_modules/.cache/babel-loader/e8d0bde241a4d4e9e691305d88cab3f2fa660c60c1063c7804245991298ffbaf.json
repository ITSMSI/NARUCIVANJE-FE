{"ast":null,"code":"import _objectSpread from\"D:/NARUCIVANJE-FE/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import\"bootstrap/dist/css/bootstrap.min.css\";import React,{useState,useEffect}from\"react\";import{jwtDecode}from\"jwt-decode\";import NavBar from\"../components/NavBar\";import Table from\"../components/Table\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminMeniji=()=>{const columns=[\"Datum\",\"Obroci\",\"Status\"];const[data,setData]=useState([]);const[rawMeniji,setRawMeniji]=useState([]);// originalni podaci sa backa\nconst[rowsPerPage,setRowsPerPage]=useState();const[startDate,setStartDate]=useState(\"\");const[endDate,setEndDate]=useState(\"\");const[errorMsg,setErrorMsg]=useState(\"\");const token=localStorage.getItem(\"token\");const decodedToken=jwtDecode(token);const[selectedMeni,setSelectedMeni]=useState(null);const[modalOpen,setModalOpen]=useState(false);const[editMode,setEditMode]=useState(false);const[availableObroci,setAvailableObroci]=useState([]);// Svi dostupni obroci\nconst[meniForm,setMeniForm]=useState({datum:\"\",obroci:new Set()// Koristimo set za jedinstvene obroke\n});const handleDateChange=(e,type)=>{const newDate=e.target.value;if(type===\"start\"){setStartDate(newDate);setEndDate(\"\");// Resetujemo endDate ako menjamo start\n}else{const start=new Date(startDate);const end=new Date(newDate);const difference=(end-start)/(1000*60*60*24);// Razlika u danima\nif(difference>7){setErrorMsg(\"Možete pretraživati porudžbine u intervalu od maksimalno 7 dana.\");return;}setEndDate(newDate);setErrorMsg(\"\");// Brišemo grešku ako je sve ok\n}};const fetchMeni=async()=>{if(!startDate||!endDate){setErrorMsg(\"Morate uneti oba datuma!\");return;}setErrorMsg(\"\");// Resetujemo grešku ako je sve ok\nif(!token){console.error(\"Nema tokena, preusmeravanje na login...\");return;}const formatDate=date=>new Date(date).toISOString().split(\"T\")[0];const formattedStartDate=formatDate(startDate);const formattedEndDate=formatDate(endDate);try{const response=await fetch(\"http://127.0.0.1:8080/api/v1/meni/get/date-range?startDate=\".concat(formattedStartDate,\"&endDate=\").concat(formattedEndDate),{method:\"GET\",headers:{\"Authorization\":\"Bearer \".concat(token)}});if(!response.ok)throw new Error(\"Greška pri učitavanju menija\");const result=await response.json();setRawMeniji(result);// čuvamo originalne podatke\nresult.sort((a,b)=>new Date(a.datum)-new Date(b.datum));const formattedData=result.map(meni=>({id:meni.id,datum:meni.datum,obrociIds:meni.obroci.map(obrok=>obrok.naziv).join(\", \"),status:meni.status?\"aktivan\":\"neaktivan\"}));setData(formattedData);}catch(error){console.error(\"Greška pri dohvaćanju menija:\",error);}};useEffect(()=>{if(modalOpen)fetchObroci();},[modalOpen]);const fetchObroci=async()=>{try{const response=await fetch(\"http://127.0.0.1:8080/api/v1/obrok/get/all\",{headers:{\"Authorization\":\"Bearer \".concat(token)}});if(!response.ok)throw new Error(\"Greška pri učitavanju obroka\");const result=await response.json();const activeObrok=result.filter(obrok=>obrok.status===true);setAvailableObroci(activeObrok);}catch(error){console.error(\"Greška pri učitavanju obroka:\",error);}};const addObrokToMeni=obrok=>{setMeniForm(prevState=>_objectSpread(_objectSpread({},prevState),{},{obroci:new Set(prevState.obroci).add(obrok)}));};const removeObrokFromMeni=obrok=>{setMeniForm(prevState=>{const newObroci=new Set(prevState.obroci);newObroci.delete(obrok);return _objectSpread(_objectSpread({},prevState),{},{obroci:newObroci});});};const openModal=function(){let edit=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;setEditMode(edit);if(edit&&selectedMeni){/*setMeniForm({\r\n                datum: selectedMeni.datum, // Popunjavamo datum iz selektovanog menija\r\n                obroci: new Set(selectedMeni.obroci.split(\", \").map(naziv => ({ naziv })))\r\n            });*/// Pronađi pravi objekat menija u rawMeniji\nconst rawMeni=rawMeniji.find(m=>m.id===selectedMeni.id);// Sada rawMeni.obroci je niz objekata { id, naziv, opis, ... }\nsetMeniForm({datum:rawMeni.datum,obroci:new Set(rawMeni.obroci)// ubacujemo celu listu obroka sa ID‐jevima\n});}else{setMeniForm({datum:\"\",obroci:new Set()});}setModalOpen(true);};const handleSave=async()=>{if(!meniForm.datum||meniForm.obroci.size===0){alert(\"Morate uneti datum i dodati bar jedan obrok!\");return;}try{let meniId=selectedMeni===null||selectedMeni===void 0?void 0:selectedMeni.id;let method=editMode?\"PUT\":\"POST\";let url=editMode?\"http://127.0.0.1:8080/api/v1/meni/update/\".concat(meniId):\"http://127.0.0.1:8080/api/v1/meni/create\";// **Prvi korak**: Kreiramo ili ažuriramo meni BEZ obroka\nconst meniResponse=await fetch(url,{method,headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)},body:JSON.stringify({datum:meniForm.datum,status:editMode?selectedMeni.status===\"aktivan\":true,userId:decodedToken.id})});if(meniResponse.status===500){alert(\"Meni za taj datum već postoji. Molimo izaberite opciju za izmenu.\");return;}if(!meniResponse.ok)throw new Error(\"Greška pri kreiranju/izmeni menija\");// Ako je POST kreiranje, dobijamo kreirani meni i njegov ID\nif(!editMode){const meniData=await meniResponse.json();meniId=meniData.id;// ID novog menija\n}// **Drugi korak**: Dodajemo obroke u meni\nconst obrociIds=[...meniForm.obroci].map(obrok=>obrok.id);const obrokUrl=\"http://127.0.0.1:8080/api/v1/meni/\".concat(meniId,\"/add-obroks\");await fetch(obrokUrl,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)},body:JSON.stringify({obrokIds:obrociIds,userId:decodedToken.id})});alert(editMode?\"Meni ažuriran!\":\"Novi meni dodat!\");setModalOpen(false);fetchMeni();}catch(error){console.error(\"Greška pri čuvanju menija:\",error);}};const handleRemoveObrok=async obrok=>{if(!selectedMeni)return;try{const response=await fetch(\"http://127.0.0.1:8080/api/v1/meni/\".concat(selectedMeni.id,\"/remove-obrok/\").concat(obrok.id),{method:\"DELETE\",headers:{\"Authorization\":\"Bearer \".concat(token)}});if(!response.ok)throw new Error(\"Greška pri uklanjanju obroka iz menija\");// Ažuriraj lokalno stanje tako što ćeš ukloniti obrok iz set-a\nremoveObrokFromMeni(obrok);}catch(error){console.error(\"Error removing obrok from meni:\",error);}};const toggleMeniStatus=async()=>{if(!token||!selectedMeni){console.error(\"Nema tokena ili meni nije selektovan.\");return;}const newStatus=selectedMeni.status===\"aktivan\"?false:true;try{await fetch(\"http://127.0.0.1:8080/api/v1/meni/update/\".concat(selectedMeni.id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)},body:JSON.stringify({datum:selectedMeni.datum,status:newStatus,userId:decodedToken.id})});alert(\"Status menija ažuriran!\");fetchMeni();}catch(error){console.error(\"Greška pri ažuriranju statusa:\",error);}};const handleRowClick=meni=>{setSelectedMeni((selectedMeni===null||selectedMeni===void 0?void 0:selectedMeni.id)===meni.id?null:meni);};// Prilagođavanje broja redova na osnovu veličine ekrana\nuseEffect(()=>{const handleResize=()=>{if(window.innerWidth<950||window.innerHeight<800){setRowsPerPage(5);// Na manjim ekranima prikazujemo manje redova\n}else{setRowsPerPage(8);// Na većim ekranima prikazujemo više redova\n}};window.addEventListener(\"resize\",handleResize);handleResize();return()=>window.removeEventListener(\"resize\",handleResize);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column\",style:{minHeight:\"100vh\"},children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-grow-1 align-items-stretch p-4\",style:{height:\"calc(100vh - 70px)\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 m-4 shadow-lg text-center d-flex flex-column justify-content-start align-items-center\",style:{borderRadius:\"20px\",backgroundColor:\"#486F5B\",width:\"320px\",height:\"90%\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control w-100 mx-auto mb-4 mt-4\",value:startDate,onChange:e=>handleDateChange(e,\"start\")}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control w-100 mx-auto mb-4 \",min:startDate,max:startDate?new Date(new Date(startDate).getTime()+7*24*60*60*1000).toISOString().split(\"T\")[0]:\"\",value:endDate,onChange:e=>handleDateChange(e,\"end\"),disabled:!startDate}),errorMsg&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger fw-bold\",children:errorMsg}),/*#__PURE__*/_jsx(\"button\",{className:\"btn mb-4 fw-bold w-100\",style:{backgroundColor:\"#CDDFD0\",fontFamily:\"Montserrat\",fontSize:15,color:\"#486F5B\"},onClick:fetchMeni,children:\"Pretra\\u017Ei\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn mb-4 fw-bold w-100\",style:{backgroundColor:\"#CDDFD0\",fontFamily:\"Montserrat\",fontSize:15,color:\"#486F5B\"},onClick:()=>openModal(false),children:\"Dodaj novi meni\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn mb-4 fw-bold w-100\",style:{backgroundColor:\"#CDDFD0\",fontFamily:\"Montserrat\",fontSize:15,color:\"#486F5B\"},onClick:()=>selectedMeni&&openModal(true),disabled:!selectedMeni,children:\"Izmeni selektovani meni\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn fw-bold w-100\",style:{backgroundColor:\"#CDDFD0\",fontFamily:\"Montserrat\",fontSize:15,color:\"#486F5B\"},onClick:toggleMeniStatus,disabled:!selectedMeni,children:\"Aktiviraj / Deaktiviraj meni\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container flex-grow-1 d-flex flex-column \",style:{height:\"90%\"},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"fw-bold mb-4 mt-3\",style:{fontFamily:\"Montserrat\",fontSize:27,color:\"#424242\"},children:\"Lista menija\"}),/*#__PURE__*/_jsx(\"div\",{style:{height:\"calc(100% - 10px)\"},children:/*#__PURE__*/_jsx(Table,{columns:columns,data:data,rowsPerPage:rowsPerPage,onRowClick:handleRowClick,selected:selectedMeni})})]}),modalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>setModalOpen(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content align-items-center\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"h2\",{className:\"fw-bold mb-5\",style:{fontFamily:\"Montserrat\",fontSize:32,color:\"white\"},children:editMode?\"Izmeni meni\":\"Dodaj meni\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"datum\",className:\"w-75 mb-3\",style:{fontFamily:\"Montserrat\",fontSize:14},disabled:editMode,value:meniForm.datum,onChange:e=>setMeniForm(_objectSpread(_objectSpread({},meniForm),{},{datum:e.target.value}))}),/*#__PURE__*/_jsx(\"h4\",{className:\"fw-bold mt-3\",style:{fontSize:18,color:\"white\"},children:\"Dodaj obrok u meni\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex w-100 justify-content-between mb-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-50 me-2\",style:{maxHeight:\"250px\",overflowY:\"auto\",border:\"1px solid white\",padding:\"10px\",borderRadius:\"10px\"},children:availableObroci.map(obrok=>/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-light btn-sm w-100 mb-1\",onClick:()=>addObrokToMeni(obrok),children:obrok.naziv},obrok.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"w-50 ms-2\",style:{maxHeight:\"250px\",overflowY:\"auto\",border:\"1px solid white\",padding:\"10px\",borderRadius:\"10px\"},children:[...meniForm.obroci].map(obrok=>/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:obrok.naziv}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm\",onClick:()=>handleRemoveObrok(obrok),children:\"\\u2716\"})]},obrok.id))})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn mb-3 w-75 fw-bold\",style:{backgroundColor:\"#CDDFD0\",fontFamily:\"Montserrat\",fontSize:16,color:\"#486F5B\"},onClick:handleSave,children:\"Sa\\u010Duvaj\"})]})})]})]});};export default AdminMeniji;","map":{"version":3,"names":["React","useState","useEffect","jwtDecode","NavBar","Table","jsx","_jsx","jsxs","_jsxs","AdminMeniji","columns","data","setData","rawMeniji","setRawMeniji","rowsPerPage","setRowsPerPage","startDate","setStartDate","endDate","setEndDate","errorMsg","setErrorMsg","token","localStorage","getItem","decodedToken","selectedMeni","setSelectedMeni","modalOpen","setModalOpen","editMode","setEditMode","availableObroci","setAvailableObroci","meniForm","setMeniForm","datum","obroci","Set","handleDateChange","e","type","newDate","target","value","start","Date","end","difference","fetchMeni","console","error","formatDate","date","toISOString","split","formattedStartDate","formattedEndDate","response","fetch","concat","method","headers","ok","Error","result","json","sort","a","b","formattedData","map","meni","id","obrociIds","obrok","naziv","join","status","fetchObroci","activeObrok","filter","addObrokToMeni","prevState","_objectSpread","add","removeObrokFromMeni","newObroci","delete","openModal","edit","arguments","length","undefined","rawMeni","find","m","handleSave","size","alert","meniId","url","meniResponse","body","JSON","stringify","userId","meniData","obrokUrl","obrokIds","handleRemoveObrok","toggleMeniStatus","newStatus","handleRowClick","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","className","style","minHeight","children","height","borderRadius","backgroundColor","width","onChange","min","max","getTime","disabled","fontFamily","fontSize","color","onClick","onRowClick","selected","stopPropagation","name","maxHeight","overflowY","border","padding"],"sources":["D:/NARUCIVANJE-FE/src/pages/AdminMeniji.js"],"sourcesContent":["import \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { jwtDecode } from \"jwt-decode\";\r\nimport NavBar from \"../components/NavBar\";\r\nimport Table from \"../components/Table\";\r\n\r\nconst AdminMeniji = () => {\r\n    const columns = [\"Datum\", \"Obroci\", \"Status\"];\r\n    const [data, setData] = useState([]);\r\n    const [rawMeniji, setRawMeniji] = useState([]); // originalni podaci sa backa\r\n    const [rowsPerPage, setRowsPerPage] = useState();\r\n\r\n    const [startDate, setStartDate] = useState(\"\");\r\n    const [endDate, setEndDate] = useState(\"\");\r\n    const [errorMsg, setErrorMsg] = useState(\"\");\r\n\r\n    const token = localStorage.getItem(\"token\");\r\n    const decodedToken = jwtDecode(token);\r\n\r\n    const [selectedMeni, setSelectedMeni] = useState(null);\r\n    const [modalOpen, setModalOpen] = useState(false);\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [availableObroci, setAvailableObroci] = useState([]); // Svi dostupni obroci\r\n    const [meniForm, setMeniForm] = useState({\r\n        datum: \"\",\r\n        obroci: new Set(), // Koristimo set za jedinstvene obroke\r\n    });\r\n\r\n\r\n    const handleDateChange = (e, type) => {\r\n        const newDate = e.target.value;\r\n\r\n        if (type === \"start\") {\r\n            setStartDate(newDate);\r\n            setEndDate(\"\"); // Resetujemo endDate ako menjamo start\r\n        } else {\r\n            const start = new Date(startDate);\r\n            const end = new Date(newDate);\r\n            const difference = (end - start) / (1000 * 60 * 60 * 24); // Razlika u danima\r\n\r\n            if (difference > 7) {\r\n                setErrorMsg(\"Možete pretraživati porudžbine u intervalu od maksimalno 7 dana.\");\r\n                return;\r\n            }\r\n\r\n            setEndDate(newDate);\r\n            setErrorMsg(\"\"); // Brišemo grešku ako je sve ok\r\n        }\r\n    };\r\n\r\n    const fetchMeni = async () => {\r\n        if (!startDate || !endDate) {\r\n            setErrorMsg(\"Morate uneti oba datuma!\");\r\n            return;\r\n        }\r\n\r\n        setErrorMsg(\"\"); // Resetujemo grešku ako je sve ok\r\n        if (!token) {\r\n            console.error(\"Nema tokena, preusmeravanje na login...\");\r\n            return;\r\n        }\r\n        const formatDate = (date) => new Date(date).toISOString().split(\"T\")[0];\r\n        const formattedStartDate = formatDate(startDate);\r\n        const formattedEndDate = formatDate(endDate);\r\n\r\n        try {\r\n\r\n            const response = await fetch(`http://127.0.0.1:8080/api/v1/meni/get/date-range?startDate=${formattedStartDate}&endDate=${formattedEndDate}`, {\r\n                method: \"GET\",\r\n                headers: { \"Authorization\": `Bearer ${token}` }\r\n            });\r\n\r\n            if (!response.ok) throw new Error(\"Greška pri učitavanju menija\");\r\n\r\n            const result = await response.json();\r\n            setRawMeniji(result); // čuvamo originalne podatke\r\n            result.sort((a, b) => new Date(a.datum) - new Date(b.datum));\r\n            const formattedData = result.map(meni => ({\r\n                id: meni.id,\r\n                datum: meni.datum,\r\n                obrociIds: meni.obroci.map(obrok => obrok.naziv).join(\", \"),\r\n                status: meni.status ? \"aktivan\" : \"neaktivan\",\r\n            }));\r\n\r\n            setData(formattedData);\r\n        } catch (error) {\r\n            console.error(\"Greška pri dohvaćanju menija:\", error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (modalOpen) fetchObroci();\r\n    }, [modalOpen]);\r\n\r\n    const fetchObroci = async () => {\r\n        try {\r\n            const response = await fetch(\"http://127.0.0.1:8080/api/v1/obrok/get/all\", {\r\n                headers: { \"Authorization\": `Bearer ${token}` }\r\n            });\r\n\r\n            if (!response.ok) throw new Error(\"Greška pri učitavanju obroka\");\r\n            const result=await response.json();\r\n            const activeObrok = result.filter(obrok => obrok.status === true);\r\n            setAvailableObroci(activeObrok);\r\n        } catch (error) {\r\n            console.error(\"Greška pri učitavanju obroka:\", error);\r\n        }\r\n    };\r\n\r\n    const addObrokToMeni = (obrok) => {\r\n        setMeniForm(prevState => ({\r\n            ...prevState,\r\n            obroci: new Set(prevState.obroci).add(obrok)\r\n        }));\r\n    };\r\n    const removeObrokFromMeni = (obrok) => {\r\n        setMeniForm(prevState => {\r\n            const newObroci = new Set(prevState.obroci);\r\n            newObroci.delete(obrok);\r\n            return { ...prevState, obroci: newObroci };\r\n        });\r\n    };\r\n\r\n    const openModal = (edit = false) => {\r\n        setEditMode(edit);\r\n        if (edit && selectedMeni) {\r\n            /*setMeniForm({\r\n                datum: selectedMeni.datum, // Popunjavamo datum iz selektovanog menija\r\n                obroci: new Set(selectedMeni.obroci.split(\", \").map(naziv => ({ naziv })))\r\n            });*/\r\n            // Pronađi pravi objekat menija u rawMeniji\r\n            const rawMeni = rawMeniji.find(m => m.id === selectedMeni.id);\r\n            // Sada rawMeni.obroci je niz objekata { id, naziv, opis, ... }\r\n            setMeniForm({\r\n                datum: rawMeni.datum,\r\n                obroci: new Set(rawMeni.obroci) // ubacujemo celu listu obroka sa ID‐jevima\r\n            });\r\n        } else {\r\n            setMeniForm({\r\n                datum: \"\",\r\n                obroci: new Set()\r\n            });\r\n        }\r\n        setModalOpen(true);\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        if (!meniForm.datum || meniForm.obroci.size === 0) {\r\n            alert(\"Morate uneti datum i dodati bar jedan obrok!\");\r\n            return;\r\n        }\r\n\r\n\r\n        try {\r\n            let meniId = selectedMeni?.id;\r\n            let method = editMode ? \"PUT\" : \"POST\";\r\n            let url = editMode\r\n                ? `http://127.0.0.1:8080/api/v1/meni/update/${meniId}`\r\n                : \"http://127.0.0.1:8080/api/v1/meni/create\";\r\n\r\n            // **Prvi korak**: Kreiramo ili ažuriramo meni BEZ obroka\r\n            const meniResponse = await fetch(url, {\r\n                method,\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Authorization\": `Bearer ${token}`\r\n                },\r\n                body: JSON.stringify({\r\n                    datum: meniForm.datum,\r\n                    status: editMode ? (selectedMeni.status === \"aktivan\") : true,\r\n                    userId: decodedToken.id\r\n                })\r\n            });\r\n\r\n            if (meniResponse.status === 500) {\r\n                alert(\"Meni za taj datum već postoji. Molimo izaberite opciju za izmenu.\");\r\n                return;\r\n            }\r\n\r\n            if (!meniResponse.ok) throw new Error(\"Greška pri kreiranju/izmeni menija\");\r\n\r\n            // Ako je POST kreiranje, dobijamo kreirani meni i njegov ID\r\n            if (!editMode) {\r\n                const meniData = await meniResponse.json();\r\n                meniId = meniData.id; // ID novog menija\r\n            }\r\n\r\n            // **Drugi korak**: Dodajemo obroke u meni\r\n            const obrociIds = [...meniForm.obroci].map(obrok => obrok.id);\r\n            const obrokUrl = `http://127.0.0.1:8080/api/v1/meni/${meniId}/add-obroks`;\r\n\r\n            await fetch(obrokUrl, {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Authorization\": `Bearer ${token}`\r\n                },\r\n                body: JSON.stringify({\r\n                    obrokIds: obrociIds,\r\n                    userId: decodedToken.id\r\n                })\r\n            });\r\n\r\n\r\n            alert(editMode ? \"Meni ažuriran!\" : \"Novi meni dodat!\");\r\n            setModalOpen(false);\r\n            fetchMeni();\r\n        } catch (error) {\r\n            console.error(\"Greška pri čuvanju menija:\", error);\r\n        }\r\n    };\r\n\r\n    const handleRemoveObrok = async (obrok) => {\r\n        if (!selectedMeni) return;\r\n        try {\r\n            const response = await fetch(`http://127.0.0.1:8080/api/v1/meni/${selectedMeni.id}/remove-obrok/${obrok.id}`, {\r\n                method: \"DELETE\",\r\n                headers: {\r\n                    \"Authorization\": `Bearer ${token}`\r\n                }\r\n            });\r\n            if (!response.ok) throw new Error(\"Greška pri uklanjanju obroka iz menija\");\r\n            // Ažuriraj lokalno stanje tako što ćeš ukloniti obrok iz set-a\r\n            removeObrokFromMeni(obrok);\r\n        } catch (error) {\r\n            console.error(\"Error removing obrok from meni:\", error);\r\n        }\r\n    };\r\n\r\n    const toggleMeniStatus = async () => {\r\n        if (!token || !selectedMeni) {\r\n            console.error(\"Nema tokena ili meni nije selektovan.\");\r\n            return;\r\n        }\r\n\r\n        const newStatus = selectedMeni.status === \"aktivan\" ? false : true;\r\n\r\n        try {\r\n            await fetch(`http://127.0.0.1:8080/api/v1/meni/update/${selectedMeni.id}`, {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Authorization\": `Bearer ${token}`\r\n                },\r\n                body: JSON.stringify({\r\n                    datum: selectedMeni.datum,\r\n                    status: newStatus,\r\n                    userId: decodedToken.id\r\n                })\r\n            });\r\n\r\n            alert(\"Status menija ažuriran!\");\r\n            fetchMeni();\r\n        } catch (error) {\r\n            console.error(\"Greška pri ažuriranju statusa:\", error);\r\n        }\r\n    };\r\n\r\n    const handleRowClick = (meni) => {\r\n        setSelectedMeni(selectedMeni?.id === meni.id ? null : meni);\r\n    };\r\n\r\n    // Prilagođavanje broja redova na osnovu veličine ekrana\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            if (window.innerWidth < 950 || window.innerHeight < 800) {\r\n                setRowsPerPage(5); // Na manjim ekranima prikazujemo manje redova\r\n            } else {\r\n                setRowsPerPage(8); // Na većim ekranima prikazujemo više redova\r\n            }\r\n        };\r\n\r\n\r\n        window.addEventListener(\"resize\", handleResize);\r\n        handleResize();\r\n        return () => window.removeEventListener(\"resize\", handleResize);\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <div className=\"d-flex flex-column\" style={{ minHeight: \"100vh\" }} >\r\n            <NavBar />\r\n            <div className=\"d-flex flex-grow-1 align-items-stretch p-4\" style={{ height: \"calc(100vh - 70px)\" }}>\r\n\r\n                {/* Sidebar */}\r\n                <div className=\"p-3 m-4 shadow-lg text-center d-flex flex-column justify-content-start align-items-center\"\r\n                    style={{\r\n                        borderRadius: \"20px\", backgroundColor: \"#486F5B\", width: \"320px\",\r\n                        height: \"90%\"\r\n                    }}>\r\n\r\n                    <input\r\n                        type=\"date\"\r\n                        className=\"form-control w-100 mx-auto mb-4 mt-4\"\r\n                        value={startDate}\r\n                        onChange={(e) => handleDateChange(e, \"start\")}\r\n                    />\r\n                    <input\r\n                        type=\"date\"\r\n                        className=\"form-control w-100 mx-auto mb-4 \"\r\n                        min={startDate}\r\n                        max={startDate ? new Date(new Date(startDate).getTime() + (7 * 24 * 60 * 60 * 1000)).toISOString().split(\"T\")[0] : \"\"}\r\n                        value={endDate}\r\n                        onChange={(e) => handleDateChange(e, \"end\")}\r\n                        disabled={!startDate}\r\n                    />\r\n\r\n                    {/* Prikaz greške ako su datumi prazni */}\r\n                    {errorMsg && <p className=\"text-danger fw-bold\">{errorMsg}</p>}\r\n\r\n                    <button className=\"btn mb-4 fw-bold w-100\"\r\n                        style={{ backgroundColor: \"#CDDFD0\", fontFamily: \"Montserrat\", fontSize: 15, color: \"#486F5B\" }}\r\n                        onClick={fetchMeni}>\r\n                        Pretraži</button>\r\n\r\n                    <button className=\"btn mb-4 fw-bold w-100\"\r\n                        style={{ backgroundColor: \"#CDDFD0\", fontFamily: \"Montserrat\", fontSize: 15, color: \"#486F5B\" }}\r\n                        onClick={() => openModal(false)}>\r\n                        Dodaj novi meni</button>\r\n                    <button className=\"btn mb-4 fw-bold w-100\"\r\n                        style={{ backgroundColor: \"#CDDFD0\", fontFamily: \"Montserrat\", fontSize: 15, color: \"#486F5B\" }}\r\n                        onClick={() => selectedMeni && openModal(true)} disabled={!selectedMeni}>\r\n                        Izmeni selektovani meni</button>\r\n                    <button className=\"btn fw-bold w-100\"\r\n                        style={{ backgroundColor: \"#CDDFD0\", fontFamily: \"Montserrat\", fontSize: 15, color: \"#486F5B\" }}\r\n                        onClick={toggleMeniStatus} disabled={!selectedMeni}>\r\n                        Aktiviraj / Deaktiviraj meni</button>\r\n                </div>\r\n\r\n                {/* Glavni sadržaj */}\r\n                <div className=\"container flex-grow-1 d-flex flex-column \" style={{ height: \"90%\" }}>\r\n                    <h2 className=\"fw-bold mb-4 mt-3\" style={{ fontFamily: \"Montserrat\", fontSize: 27, color: \"#424242\" }}>Lista menija</h2>\r\n                    <div style={{ height: \"calc(100% - 10px)\" }}>\r\n                        <Table columns={columns} data={data} rowsPerPage={rowsPerPage} onRowClick={handleRowClick} selected={selectedMeni} />\r\n                    </div>\r\n                </div>\r\n\r\n                {modalOpen && (\r\n                    <div className=\"modal-overlay\" onClick={() => setModalOpen(false)}>\r\n                        <div className=\"modal-content align-items-center\" onClick={(e) => e.stopPropagation()}>\r\n                            <h2 className=\"fw-bold mb-5\" style={{ fontFamily: \"Montserrat\", fontSize: 32, color: \"white\" }}>\r\n                                {editMode ? \"Izmeni meni\" : \"Dodaj meni\"}\r\n                            </h2>\r\n                            <input type=\"date\" name=\"datum\" className=\"w-75 mb-3\" style={{ fontFamily: \"Montserrat\", fontSize: 14 }}\r\n                                disabled={editMode} value={meniForm.datum} onChange={(e) => setMeniForm({ ...meniForm, datum: e.target.value })} />\r\n\r\n\r\n                            <h4 className=\"fw-bold mt-3\" style={{ fontSize: 18, color: \"white\" }}>Dodaj obrok u meni</h4>\r\n                            <div className=\"d-flex w-100 justify-content-between mb-5\">\r\n\r\n                                {/* Lista dostupnih obroka */}\r\n                                <div className=\"w-50 me-2\" style={{ maxHeight: \"250px\", overflowY: \"auto\", border: \"1px solid white\", padding: \"10px\", borderRadius: \"10px\" }}>\r\n                                    {availableObroci.map(obrok => (\r\n                                        <button key={obrok.id} className=\"btn btn-outline-light btn-sm w-100 mb-1\"\r\n                                            onClick={() => addObrokToMeni(obrok)}>\r\n                                            {obrok.naziv}\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n\r\n                                {/* Lista izabranih obroka */}\r\n                                <div className=\"w-50 ms-2\" style={{ maxHeight: \"250px\", overflowY: \"auto\", border: \"1px solid white\", padding: \"10px\", borderRadius: \"10px\" }}>\r\n                                    {[...meniForm.obroci].map(obrok => (\r\n                                        <div key={obrok.id} className=\"d-flex justify-content-between align-items-center mb-1\">\r\n                                            <span>{obrok.naziv}</span>\r\n                                            <button className=\"btn btn-sm\" onClick={() => handleRemoveObrok(obrok)}>✖</button>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                            <button className=\"btn mb-3 w-75 fw-bold\"\r\n                                style={{ backgroundColor: \"#CDDFD0\", fontFamily: \"Montserrat\", fontSize: 16, color: \"#486F5B\" }}\r\n                                onClick={handleSave}>Sačuvaj</button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AdminMeniji;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}